<div *ngIf="!isEdit">
  <div class="verify-icon" title="Verified correction">
    <i class="fa fa-star golden" aria-hidden="true" *ngIf='mistake.verified' (click)='updateStatus(false)'></i>
  </div>
  <div class="verify-icon" title="Unverified correction">
    <i class="fa fa-star-o" aria-hidden="true" *ngIf='!mistake.verified' (click)='updateStatus(true)'></i>
  </div>
</div>

<div *ngIf="!isEdit">
  <h3>{{ mistake.correction }}</h3>
  <p class="sub-text strike-out">{{ mistake.content || defaultMessage }}</p>
</div>

<div *ngIf="isEdit">
  <input placeholder="{{mistake.content || 'Add mistake' }}" class="input"
  [(ngModel)]="mistake.content"
  required minlength="2" maxlength="100"
  #content='ngModel'>

  <input placeholder="{{mistake.correction || 'Add correction' }}" class="input"
  [(ngModel)]="mistake.correction"
  required minlength="2" maxlength="100"
  #correction='ngModel'>

  <textarea placeholder="{{mistake.notes || 'Add notes' }}" class="textarea"
  [(ngModel)]="mistake.notes"
  required minlength="2" maxlength="500"
  #notes='ngModel'></textarea>
</div>

<div class="sub-footer">
  <p *ngIf="mistake.notes" class="notes">{{ mistake.notes }}</p>
  <p class="sub-text" style="margin-bottom: 0" *ngIf="!isEdit"><a (click)="isEdit=true">Add notes</a></p>
</div>

<div class="sub-footer clearfix">
  <div class="count float-left">
    <i class="fa fa-icon fa-arrow-circle-o-down" aria-hidden="true" (click)='decreaseCount()'></i>
    <i class="fa fa-icon fa-arrow-circle-o-up" aria-hidden="true" (click)='increaseCount()'></i>
    | <span>{{ mistake.count }}</span>
  </div>

  <div class="float-right">
    <i class="fa fa-clock-o fa-icon" aria-hidden="true"></i> <span class="date-time">{{ mistake.updated_at | date: 'short' }}</span>
  </div>
</div>

<div class="card-footer">
  <div *ngIf="!isEdit">
    <span class="button is-small is-default" (click)="isEdit=true">Update</span>
    <span class="button is-small is-danger" (click)='deleteMistake()'>Delete</span>
  </div>
  <div *ngIf="isEdit">
    <span class="button is-small is-primary" (click)='updateMistake()'>Update</span>
    <span class="button is-small is-default" (click)="isEdit=false">Cancel</span>
  </div>
</div>
