<div class="content">
  <h2>
    Learning Points
    <button
      class="button is-link is-pulled-right"
      (click)="toggleNewMistakeModal()"
    >
      Add New
    </button>
  </h2>
  <p>
    These are reminders about things you've learned in Japanese. Add a learning
    point so you don't make the same mistake twice!
  </p>
</div>

<!-- New Mistake Modal -->
<div class="modal" [class.is-active]="newMistakeModalOpen">
  <div class="modal-background"></div>
  <div class="modal-content">
    <div class="field parent-wrapper">
      <div class="content">
        <h5>
          <i class="fas fa-pencil-alt" aria-hidden="true"></i> New Learning
          Point
        </h5>
      </div>

      <div class="field">
        <label class="label" for="mistakeNewTitle"
          >Title <small class="has-text-grey-light">(optional)</small></label
        >
        <input
          id="mistakeNewTitle"
          class="input"
          [(ngModel)]="mistake.title"
          minlength="1"
          maxlength="100"
          type="text"
          #title="ngModel"
        />
      </div>

      <div class="field">
        <label class="label" for="mistakeNewContent"
          >Mistake <small class="has-text-danger">*</small></label
        >
        <input
          id="mistakeNewContent"
          class="input"
          [(ngModel)]="mistake.content"
          placeholder="What was your mistake?"
          minlength="1"
          maxlength="100"
          type="text"
          #content="ngModel"
          required
          autofocus
        />
      </div>

      <div class="field">
        <label class="label" for="mistakeNewCorrection"
          >Correction <small class="has-text-danger">*</small></label
        >
        <input
          id="mistakeNewCorrection"
          class="input"
          [(ngModel)]="mistake.correction"
          placeholder="What is the correct Japanese?"
          minlength="1"
          maxlength="100"
          type="text"
          required
          #correction="ngModel"
        />
      </div>
    </div>

    <div class="field">
      <label class="label" for="mistakeEditNotes"
        >Notes <small class="has-text-grey-light">(optional)</small></label
      >
      <textarea
        id="mistakeEditNotes"
        placeholder="{{ mistake.notes || 'Add notes' }}"
        class="textarea"
        [(ngModel)]="mistake.notes"
        minlength="1"
        maxlength="1000"
        rows="5"
        #notes="ngModel"
      ></textarea>
    </div>

    <button
      class="button is-link is-medium is-fullwidth"
      [disabled]="!content.valid || !correction.valid"
      (click)="createMistake()"
    >
      SAVE
    </button>
  </div>
  <button
    class="modal-close is-large"
    aria-label="close"
    (click)="toggleNewMistakeModal()"
  ></button>
</div>
