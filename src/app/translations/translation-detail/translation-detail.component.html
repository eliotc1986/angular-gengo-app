<div class="card-content">
  <div *ngIf="!isEdit">
    <div class="verify-icon is-pulled-right">
      <span class="icon" title="Verified translation" *ngIf='translation.verified' (click)='updateStatus(false)'>
        <i class="fa fa-star" aria-hidden="true"></i>
      </span>
      <span class="icon" title="Unverified translation" *ngIf='!translation.verified' (click)='updateStatus(true)'>
        <i class="fa fa-star-o" aria-hidden="true"></i>
      </span>
    </div>
  </div>

  <div *ngIf="!isEdit">
    <h3>{{ translation.ja || translationMsg }}</h3>
    <p *ngIf="translation.en" class="sub-text">{{ translation.en }}</p>
    <p><a *ngIf="!translation.en" (click)="isEdit=true" class="sub-text">{{ defaultMsg }}</a></p>
  </div>

  <div *ngIf="isEdit">
    <div class="field">
      <input placeholder="{{translation.ja || 'Add Japanese' }}" class="input"
      [(ngModel)]="translation.ja"
      required minlength="2" maxlength="100"
      #ja='ngModel'>
    </div>

    <div class="field">
      <input placeholder="{{translation.en || 'Add English' }}" class="input"
      [(ngModel)]="translation.en"
      required minlength="2" maxlength="100"
      #en='ngModel'>
    </div>

    <div class="field">
      <textarea placeholder="{{translation.notes || 'Add notes' }}" class="textarea"
      [(ngModel)]="translation.notes"
      required minlength="2" maxlength="500"
      #notes='ngModel'></textarea>
    </div>
  </div>

  <div class="sub-footer" *ngIf="!isEdit">
    <p *ngIf="translation.notes" class="notes">{{ translation.notes }}</p>
    <p class="sub-text" style="margin-bottom: 0" *ngIf="!isEdit"><a (click)="isEdit=true">Add notes</a></p>
  </div>

  <div class="sub-footer has-text-right">
    <span class="icon is-small">
      <i class="fa fa-clock-o" aria-hidden="true"></i>
    </span>
    <span class="date-time">{{ translation.created_at | date: 'short' }}</span>
  </div>
</div>

<div class="card-footer" *ngIf="!isEdit">
  <a class="card-footer-item" (click)="isEdit=true">Edit</a>
  <a class="card-footer-item" (click)='deleteTranslation()'>Delete</a>
</div>

<div class="card-footer" *ngIf="isEdit">
  <a class="card-footer-item" (click)="isEdit=false">Cancel</a>
  <a class="card-footer-item" (click)='updateTranslation()'>Update</a>
</div>
